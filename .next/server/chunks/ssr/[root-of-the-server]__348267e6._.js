module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},64719,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(10886),e=a.i(76456),f=a.i(7836),g=a.i(99661);let h=(0,e.createLayerComponent)(function({position:a,...b},c){let e=new g.Marker(a,b);return(0,d.createElementObject)(e,(0,f.extendContext)(c,{overlayContainer:e}))},function(a,b,c){b.position!==c.position&&a.setLatLng(b.position),null!=b.icon&&b.icon!==c.icon&&a.setIcon(b.icon),null!=b.zIndexOffset&&b.zIndexOffset!==c.zIndexOffset&&a.setZIndexOffset(b.zIndexOffset),null!=b.opacity&&b.opacity!==c.opacity&&a.setOpacity(b.opacity),null!=a.dragging&&b.draggable!==c.draggable&&(!0===b.draggable?a.dragging.enable():a.dragging.disable())}),i=(0,e.createOverlayComponent)(function(a,b){let c=new g.Tooltip(a,b.overlayContainer);return(0,d.createElementObject)(c,b)},function(a,b,{position:d},e){(0,c.useEffect)(function(){let c=b.overlayContainer;if(null==c)return;let{instance:f}=a,g=a=>{a.tooltip===f&&(null!=d&&f.setLatLng(d),f.update(),e(!0))},h=a=>{a.tooltip===f&&e(!1)};return c.on({tooltipopen:g,tooltipclose:h}),c.bindTooltip(f),function(){c.off({tooltipopen:g,tooltipclose:h}),null!=c._map&&c.unbindTooltip()}},[a,b,e,d])}),j=new g.default.Icon({iconUrl:"/map/player-marker.png",iconSize:[32,32],iconAnchor:[16,32]});function k({name:a,x:c,y:d}){return(0,b.jsx)(h,{position:[d,c],icon:j,children:(0,b.jsx)(i,{children:a})})}function l({isOpen:a,onClose:d,onSpawn:e,coords:f}){let[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(1);return a&&f?(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg w-80",children:[(0,b.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Spawn de Pal"}),(0,b.jsxs)("label",{className:"block mb-2",children:["Pal ID:",(0,b.jsx)("input",{className:"border p-1 w-full",value:g,onChange:a=>h(a.target.value),placeholder:"Ex: 101"})]}),(0,b.jsxs)("label",{className:"block mb-2",children:["Quantidade:",(0,b.jsx)("input",{className:"border p-1 w-full",type:"number",min:1,value:i,onChange:a=>j(Number(a.target.value))})]}),(0,b.jsxs)("div",{className:"mb-2 text-sm text-gray-600",children:["Coordenadas: X: ",f.x,", Y: ",f.y,", Z: ",f.z]}),(0,b.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,b.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:()=>e({palId:g,quantity:i,coordinates:f}),children:"Spawn"}),(0,b.jsx)("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:d,children:"Cancelar"})]})]})}):null}var m=a.i(50944);function n({children:a}){let d=(0,m.useRouter)();return(0,c.useEffect)(()=>{d.push("/login")},[d]),(0,b.jsx)(b.Fragment,{children:a})}function o(){let d,[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)({open:!1,coords:null}),[m,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{o(!0)},[]);let p=async a=>{await fetch("/api/pals/spawn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),j({open:!1,coords:null})};return(0,c.useEffect)(()=>{fetch("/api/server/info").then(a=>a.json()).then(a=>f(a.serverName||"Servidor Palworld"));let a=()=>{fetch("/api/players").then(a=>a.json()).then(a=>h(a.players||[]))};a();let b=setInterval(a,5e3);return()=>clearInterval(b)},[]),(0,b.jsx)(n,{children:(0,b.jsxs)("main",{className:"h-screen w-screen flex flex-col",children:[(0,b.jsx)("header",{className:"bg-gray-900 text-white p-4 text-xl font-bold",children:e}),(0,b.jsx)("div",{className:"flex-1 relative",children:(0,b.jsxs)("div",{className:"container",style:{maxWidth:1200,margin:"40px auto"},children:[(0,b.jsx)("h2",{children:"Dashboard"}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("strong",{children:"Servidor:"})," ",e,(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:"Jogadores online:"})," ",g.length]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h4",{children:"Jogadores"}),0===g.length?(0,b.jsx)("p",{children:"Nenhum jogador online."}):(0,b.jsxs)("table",{className:"table table-dark table-striped",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Nome"}),(0,b.jsx)("th",{children:"X"}),(0,b.jsx)("th",{children:"Y"}),(0,b.jsx)("th",{children:"Z"})]})}),(0,b.jsx)("tbody",{children:g.map((a,c)=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:a.name}),(0,b.jsx)("td",{children:a.x}),(0,b.jsx)("td",{children:a.y}),(0,b.jsx)("td",{children:a.z})]},c))})]})]}),m&&(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{children:"Carregando mapa..."}),children:(d=c.default.lazy(()=>a.A(35758)),(0,b.jsx)(d,{onMapClick:a=>{j({open:!0,coords:{x:a.lng,y:a.lat,z:0}})},players:g}))}),m&&g.map((a,c)=>(0,b.jsx)(k,{name:a.name,x:a.x,y:a.y},c)),(0,b.jsx)(l,{isOpen:i.open,coords:i.coords,onClose:()=>j({open:!1,coords:null}),onSpawn:p})]})})]})})}a.s(["HomeDashboard",()=>o],64719)},35758,a=>{a.v(b=>Promise.all(["server/chunks/ssr/app_components_Map_tsx_e8cd615f._.js"].map(b=>a.l(b))).then(()=>b(48757)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__348267e6._.js.map